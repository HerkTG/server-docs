= Release Notes
:description: Release notes for TigerGraph {page-component-version} LTS.
:page-aliases: change-log.adoc, release-notes.adoc
:fn-preview: footnote:preview[Features in the preview stage should not be used for production purposes. General Availability (GA) versions of the feature will be available in a later release.]
:toc:
:toclevels:2

TigerGraph Server {page-component-version}.0 LTS was released on February 28th, 2023.

LTS versions are supported for 24 months from their initial release and should be the choice for production deployments.



== Key New Features

* *xref:3.9@gsql-ref:ddl-and-loading:defining-a-graph-schema.adoc#_discriminator[Multiple edges of the same type between vertices]* - Simplifies application design for time series data and other complex large data sets
* *xref:3.9@tigergraph-server:data-loading:data-streaming-connector/[Data streaming connector]* - Simplifies and unifies setup for data loading, employs robust Kafka-based design, supports cloud-hosted data sources in many formats, including Parquet
* *Improved monitoring and logging* - Facilitates better workload management for xref:3.9@:gui-docs:monitoring:queries.adoc[queries] and xref:3.9@:gsql-ref:ddl-and-loading:managing-loading-job.adoc[loading jobs].

== Detailed List of New Features

=== TigerGraph Server
* xref:3.9@tigergraph-server:data-loading:data-streaming-connector/index.adoc[]:
** Added support for the xref:3.9@tigergraph-server:data-loading:data-streaming-connector/index.adoc#_define_the_parameters[Parquet file format], widely used for big data.
** Moved data connector setup from `gadmin` to xref:3.9@tigergraph-server:data-loading:data-streaming-connector/[GSQL commmands], to better align with user personas and privileges.
** Added xref:3.9@tigergraph-server:data-loading:data-streaming-connector/index.adoc#_continuous_file_loading [auto-detection of new files] when in Stream mode.
** Significantly improved CPU usage after connector finishes data loading.
** Documented additional xref:3.9@tigergraph-server:data-loading:data-streaming-connector/aws-s3.adoc#_specify_connector_configurations[S3 authentication configuration parameters].
* Added new xref:3.9@tigergraph-server:API:built-in-endpoints.adoc[REST Endpoints]:
** `/library` is a set of endpoints for showing and running template queries.
** `/showdelayedlistall` shows how many queries are in the Workflow Manager's delay queue.
* Added a new command for `gadmin backup` to xref:3.9@tigergraph-server:backup-and-restore:backup-cluster.adoc#_back_up_a_database_cluster[control the number of backups], for better storage space management.
* Expanded the list of xref:3.9@tigergraph-server:reference:error-codes.adoc[system response codes] to include one for an invalid vertex ID.
* Improved the backend security infrastructure for the Kafka loader.

=== GSQL Command and Querying Language

==== Loading

* Moved xref:3.9@tigergraph-server:data-loading:data-streaming-connector/index.adoc[data connector] setup from `gadmin` to GSQL.
Streamlined the user experience for creating loading jobs for data stored in AWS, GCP, and Azure, directly integrating the data streaming connector with GSQL and reducing the steps needed to load data.
** Introduced a new `STREAM` data loading type that simplifies the xref:3.9@tigergraph-server:data-loading:index.adoc[data loading process] from remote data storage.
* Added a new set of loading job xref:3.9@gsql-ref:ddl-and-loading:functions/token/index.adoc[token functions for string manipulation].

==== Schema
* Full support for xref:3.9@:gsql-ref:ddl-and-loading:defining-a-graph-schema.adoc#_discriminator[
multiple edges of the same type] between vertices, to simplify application design for time series data and other complex large data sets.

==== Querying and Query Management
* `to_string()` now supports all xref:3.9@gsql-ref:ddl-and-loading:attribute-data-types.adoc#_primitive_types[primitive] and xref:3.9@gsql-ref:querying:accumulators.adoc#_vertex_attached_accumulators
[scalar accumulator] data types.
* Added support for batch deletion of multiple edges between vertices, both with GSQL `DELETE` and as a xref:3.9@tigergraph-server:API:built-in-endpoints.adoc#_delete_an_edge_by_source_target_edge_type_and_discriminator[REST endpoint].
* Standardized `SHOW PACKAGE` for xref:3.9@:graph-ml:using-an-algorithm.adoc#_packaged_template_queries[packaged queries] to follow the same behavior as other `SHOW` catalog commands.

//=== JDBC Spark Connector
//
//* [Alex] Added support for loading job monitoring on xref:3.9@data-loading:spark-connection-via-jdbc-driver.adoc[JDBC Spark connector] loading jobs.
//* [Alex] Added the ability to assign a specific job ID to a JDBC loading job.
//* [Alex] Added error limiting parameters to JDBC loading jobs to cancel loading automatically when errors surpass a certain threshold.

=== Kubernetes Operator

* Enhanced the functionality of the xref:3.9@kubernetes:k8s-operator/index.adoc[] so it is now the standard way to perform cluster operations with Kubernetes.
* Added support for xref:3.9@kubernetes:k8s-operator/backup-and-restore.adoc[], xref:3.9@kubernetes:k8s-operator/cluster-operations.adoc#upgrade-cluster-version[upgrading the version of the TigerGraph server], and xref:3.9@kubernetes:k8s-operator/cluster-operations.adoc#update-cluster-resources[updating cluster resources].

=== Security

* Improved the backend security infrastructure for the Kafka loader.
* Added xref:3.9@tigergraph-server:security:index.adoc#_udf_file_scanning[configurable security scanning for UDFs].
* Updated our response to xref:master@home::cve-2022-30331.adoc[CVE-2022-30331].

== TigerGraph Suite Updates
=== Admin Portal

* Reworked the xref:3.9@gui:admin-portal:dashboard.adoc[Admin Portal dashboard] to show the relationship hierarchy and status of all TigerGraph components for at-a-glance understanding of the TigerGraph system.

=== GDS Library and ML Workbench

* Added xref:1.3@pytigergraph:gds:dataloaders.adoc#nodepieceloader[NodePiece] node embedding algorithm.
* Added pyTigerGraph support for xref:1.3@pytigergraph:core-functions:query.adoc#_runinstalledquery[running queries asynchronously] (i.e., running in the background).

=== TigerGraph Insights

* Added support for multi-user editing and sharing of the same xref:3.9@insights:intro:applications.adoc[applications].
* Added the ability for users to xref:3.9@insights:widgets:index.adoc#_save_a_widget[save a widget] independently instead of tying it to an application.
* Added a mini-map to the xref:3.9@insights:widgets:graph-widget.adoc[graph widgets] for easier navigation.

== Fixed issues

* Improved stability and security across all components.
* Fixed an issue with the GSQL `SELECT * FROM` and `PRINT` functions converting some special characters from UTF-8 to UTF-16.
Previously affected character sets included the Unicode range `0080` to `00A0` and `2000` to `2100` (Near Eastern scripts and some special typographical marks).
* The `SELECT * FROM` and `PRINT` functions no longer convert large integers to strings before printing, which had resulted in quotation marks printed along with the number.
* xref:3.9@tigergraph-server:cluster-and-ha-management:expand-a-cluster.adoc[Cluster resizing] no longer requires a graph schema.
* Extended the timeout length for queries in the wait queue so that they are not timed out early.

== Known issues

* During peak system load, loading jobs may sometimes display an inaccurate loading status. This issue can be remediated by continuing to run `SHOW LOADING STATUS` periodically to display the up-to-date status.
* When managing many loading jobs, pausing a data loading job may result in longer-than-usual response time.
* Schema change jobs may fail if the server is experiencing a heavy workload. To remedy this, avoid applying schema changes during peak load times.
* User-defined Types (UDT) do not work if exceeding string size limit. Avoid using UDT for variable length strings that cannot be limited by size.
* Unable to handle the tab character `\t` properly in AVRO or Parquet file loading. It will be loaded as `\\t`.

=== Compatibility Issues
* v3.9+: Some UDFs may no longer be accepted due to increased security screening.

=== Deprecations
* Kubernetes classic  mode (non-operator) is deprecated, as of v3.9.
* The `WRITE_DATA` RBAC privilege is deprecated, as of v3.7.

== Release notes for previous versions
* xref:3.8@tigergraph-server:release-notes:index.adoc[Release notes - TigerGraph 3.8]
* xref:3.7@tigergraph-server:release-notes:index.adoc[Release notes - TigerGraph 3.7]
* xref:3.6@tigergraph-server:release-notes:index.adoc[Release notes - TigerGraph 3.6]
* xref:3.5@tigergraph-server:release-notes:index.adoc[Release notes - TigerGraph 3.5]
* xref:3.4@tigergraph-server:release-notes:release-notes.adoc[Release notes - TigerGraph 3.4]
* xref:3.3@tigergraph-server:release-notes:release-notes.adoc[Release notes - TigerGraph 3.3]
* xref:3.2@tigergraph-server:release-notes:release-notes.adoc[Release notes - TigerGraph 3.2]